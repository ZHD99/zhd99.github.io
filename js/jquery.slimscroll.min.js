"use strict";!function(H){jQuery.fn.extend({slimScroll:function(x){var C=H.extend({width:"auto",height:"250px",size:"7px",color:"#57abf8cc",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},x);return this.each(function(){function e(e){if(s){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),H(e.target||e.srcTarget||e.srcElement).closest("."+C.wrapperClass).is(v.parent())&&o(t,!0),e.preventDefault&&!f&&e.preventDefault(),f||(e.returnValue=!1)}}function o(e,t,i){f=!1;var o=e,s=v.outerHeight()-w.outerHeight();t&&(o=parseInt(w.css("top"))+e*parseInt(C.wheelStep)/100*w.outerHeight(),o=Math.min(Math.max(o,0),s),o=0<e?Math.ceil(o):Math.floor(o),w.css({top:o+"px"})),o=(d=parseInt(w.css("top"))/(v.outerHeight()-w.outerHeight()))*(v[0].scrollHeight-v.outerHeight()),i&&(e=(o=e)/v[0].scrollHeight*v.outerHeight(),e=Math.min(Math.max(e,0),s),w.css({top:e+"px"})),v.scrollTop(o),v.trigger("slimscrolling",~~o),r(),a()}function i(){u=Math.max(v.outerHeight()/v[0].scrollHeight*v.outerHeight(),g),w.css({height:u+"px"});var e=u==v.outerHeight()?"none":"block";w.css({display:e})}function r(){i(),clearTimeout(c),d==~~d?(f=C.allowPageScroll,p!=d&&v.trigger("slimscroll",0==~~d?"top":"bottom")):f=!1,p=d,u>=v.outerHeight()?f=!0:(w.stop(!0,!0).fadeIn("fast"),C.railVisible&&m.stop(!0,!0).fadeIn("fast"))}function a(){C.alwaysVisible||(c=setTimeout(function(){C.disableFadeOut&&s||l||n||(w.fadeOut("slow"),m.fadeOut("slow"))},1e3))}var s,l,n,c,h,u,d,p,g=30,f=!1,v=H(this);if(v.parent().hasClass(C.wrapperClass)){var b=v.scrollTop(),w=v.parent().find("."+C.barClass),m=v.parent().find("."+C.railClass);if(i(),H.isPlainObject(x)){if("height"in x&&"auto"==x.height){v.parent().css("height","auto"),v.css("height","auto");var y=v.parent().parent().height();v.parent().css("height",y),v.css("height",y)}if("scrollTo"in x)b=parseInt(C.scrollTo);else if("scrollBy"in x)b+=parseInt(C.scrollBy);else if("destroy"in x)return w.remove(),m.remove(),void v.unwrap();o(b,!1,!0)}}else{C.height="auto"==C.height?v.parent().height():C.height,b=H("<div></div>").addClass(C.wrapperClass).css({position:"relative",overflow:"hidden",width:C.width,height:C.height}),v.css({overflow:"hidden",width:C.width,height:C.height});m=H("<div></div>").addClass(C.railClass).css({width:C.size,height:"100%",position:"absolute",top:0,display:C.alwaysVisible&&C.railVisible?"block":"none","border-radius":C.railBorderRadius,background:C.railColor,opacity:C.railOpacity,zIndex:90}),w=H("<div></div>").addClass(C.barClass).css({background:C.color,width:C.size,position:"absolute",top:0,opacity:C.opacity,display:C.alwaysVisible?"block":"none","border-radius":C.borderRadius,BorderRadius:C.borderRadius,MozBorderRadius:C.borderRadius,WebkitBorderRadius:C.borderRadius,zIndex:99}),y="right"==C.position?{right:C.distance}:{left:C.distance};m.css(y),w.css(y),v.wrap(b),v.parent().append(w),v.parent().append(m),C.railDraggable&&w.bind("mousedown",function(e){var i=H(document);return n=!0,t=parseFloat(w.css("top")),pageY=e.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),o(0,w.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){n=!1,a(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),m.hover(function(){r()},function(){a()}),w.hover(function(){l=!0},function(){l=!1}),v.hover(function(){s=!0,r(),a()},function(){s=!1,a()}),v.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(h=e.originalEvent.touches[0].pageY)}),v.bind("touchmove",function(e){f||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(o((h-e.originalEvent.touches[0].pageY)/C.touchScrollStep,!0),h=e.originalEvent.touches[0].pageY)}),i(),"bottom"===C.start?(w.css({top:v.outerHeight()-w.outerHeight()}),o(0,!0)):"top"!==C.start&&(o(H(C.start).position().top,null,!0),C.alwaysVisible||w.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",e,!1),this.addEventListener("mousewheel",e,!1),this.addEventListener("MozMousePixelScroll",e,!1)):document.attachEvent("onmousewheel",e)}()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery);